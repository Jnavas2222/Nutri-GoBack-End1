"use strict";(self.webpackChunkmi_web_app=self.webpackChunkmi_web_app||[]).push([[717],{3717:(N,P,l)=>{l.r(P),l.d(P,{ProductoRModule:()=>_});var u=l(6895),p=l(9299),e=l(4650),m=l(4859),C=l(5412);function M(d,t){}class g{constructor(){}static#e=this.\u0275fac=function(o){return new(o||g)};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-borrar"]],decls:13,vars:2,consts:[[1,"p-4"],[1,"text-xl","font-semibold","mb-4"],[1,"botones-container"],[1,"text-center","text-2xl","font-bold","mb-8"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["noFile",""]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Borrar Inventario"),e.qZA(),e.TgZ(3,"div",2)(4,"h3",3),e._uU(5,"\xbfSeguro que quieres borrar el producto?"),e.qZA(),e.TgZ(6,"mat-dialog-actions")(7,"button",4),e._uU(8,"No"),e.qZA(),e.TgZ(9,"button",5),e._uU(10,"Si"),e.qZA()(),e.YNc(11,M,0,0,"ng-template",null,6,e.W1O),e.qZA()()),2&o&&(e.xp6(7),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},dependencies:[m.lW,C.ZT,C.H8],styles:['@charset "UTF-8";.custom-primary-button[_ngcontent-%COMP%]{background-color:#005e6e;color:#fff;font-weight:700;padding:.5rem 1rem;border-radius:.25rem;margin-left:10px}.botones-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.botones-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:10px}']})}var Z=l(4410),A=l(7392),x=l(4144),c=l(9549),O=l(4385),T=l(3238),r=l(4006);function w(d,t){if(1&d&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&d){const o=t.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.label," ")}}function q(d,t){if(1&d){const o=e.EpF();e.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"input",13),e.NdJ("ngModelChange",function(s){e.CHM(o);const n=e.oxw();return e.KtG(n.busqueda=s)}),e.qZA()(),e.TgZ(3,"button",14),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.buscar())}),e._uU(4,"Buscar"),e.qZA()()}if(2&d){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.busqueda)}}function U(d,t){if(1&d){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",15),e.NdJ("click",function(){const n=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.transmitirModificar(n.id,n.nombre,n.precio,n.tipo))}),e.TgZ(11,"mat-icon"),e._uU(12,"edit"),e.qZA()(),e.TgZ(13,"button",16),e.NdJ("click",function(){const n=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.openConfirmarDialog(n.id))}),e.TgZ(14,"mat-icon"),e._uU(15,"delete"),e.qZA()()()()}if(2&d){const o=t.$implicit;e.xp6(2),e.Oqu(o.id),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.Oqu(o.tipo),e.xp6(2),e.hij("$",o.precio,"")}}class f{constructor(t,o,i){this.seguridadService=t,this.router=o,this.dialog=i,this.options=[{value:0,label:"Todo"},{value:1,label:"Paquetes"},{value:2,label:"Bebidas"},{value:3,label:"Otros"},{value:4,label:"Buscar por nombre"}],this.selectedOption=-1,this.busqueda="",this.data=[],this.data2=[],this.filteredOptions=[]}ngOnInit(){this.seguridadService.mantenerSecion(),this.seguridadService.tieneprivilegio(),this.seguridadService.obtenerProducto().subscribe(t=>{t.sort((o,i)=>o.nombre.localeCompare(i.nombre)),this.data=t},t=>{console.error("Error obteniendo data:",t)})}onFirstListChange(){this.filteredOptions=[],0===this.selectedOption?this.seguridadService.obtenerProducto().subscribe(t=>{t.sort((o,i)=>o.nombre.localeCompare(i.nombre)),this.data=t},t=>{console.error("Error obteniendo data:",t)}):1===this.selectedOption?(this.seguridadService.obtenerProducto().subscribe(t=>{t.sort((o,i)=>o.nombre.localeCompare(i.nombre)),this.data2=t},t=>{console.error("Error obteniendo data:",t)}),this.data2.forEach(t=>{"PAQUETE"==t.tipo&&this.filteredOptions.push(t)})):2===this.selectedOption?(this.seguridadService.obtenerProducto().subscribe(t=>{t.sort((o,i)=>o.nombre.localeCompare(i.nombre)),this.data2=t},t=>{console.error("Error obteniendo data:",t)}),this.data2.forEach(t=>{"BEBIDA"==t.tipo&&this.filteredOptions.push(t)})):3===this.selectedOption&&(this.seguridadService.obtenerProducto().subscribe(t=>{t.sort((o,i)=>o.nombre.localeCompare(i.nombre)),this.data2=t},t=>{console.error("Error obteniendo data:",t)}),this.data2.forEach(t=>{"OTRO"==t.tipo&&this.filteredOptions.push(t)})),this.filteredOptions=Array.from(new Set(this.filteredOptions.map(t=>t.id))).map(t=>this.filteredOptions.find(o=>o.id===t)),this.data=this.filteredOptions}buscar(){this.filteredOptions=[],this.seguridadService.obtenerProducto().subscribe(t=>{t.sort((o,i)=>o.nombre.localeCompare(i.nombre)),this.data2=t},t=>{console.error("Error obteniendo data:",t)}),this.data2.forEach(t=>{t.nombre.includes(this.busqueda)&&this.filteredOptions.push(t)}),this.data=this.filteredOptions}transmitirModificar(t,o,i,s){const a={id:t,nombre:o,precio:i,tipo:"PAQUETE"==s?0:"BEBIDA"==s?1:2};this.router.navigate(["/producto/modificar"],{queryParams:{id:a.id,nombre:a.nombre,precio:a.precio,tipo:a.tipo}})}openConfirmarDialog(t){this.dialog.open(g).afterClosed().subscribe(i=>{i&&(this.seguridadService.BorrarProducto({id:t,user:this.seguridadService.getCookie("username")??"nada"}),window.location.reload())})}static#e=this.\u0275fac=function(o){return new(o||f)(e.Y36(Z.F),e.Y36(p.F0),e.Y36(C.uw))};static#t=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-producto"]],decls:26,vars:4,consts:[[1,"p-4"],[1,"text-xl","font-semibold","mb-4"],[1,"w-full",2,"width","200px"],["placeholder","Opciones",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","w-full","style","display: flex; align-items: center; gap: 10px; width: 400px;",4,"ngIf"],[1,"table-container"],[1,"botones-containerA"],["routerLink","/producto/crear","mat-raised-button","",1,"crear"],[4,"ngFor","ngForOf"],[3,"value"],[1,"w-full",2,"display","flex","align-items","center","gap","10px","width","400px"],[1,"w-full",2,"flex","1"],["matInput","","placeholder","Buscar",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",1,"modificar",3,"click"],["mat-raised-button","",1,"borrar",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Panel De Administraci\xf3n de Productos"),e.qZA(),e.TgZ(3,"mat-form-field",2)(4,"mat-select",3),e.NdJ("valueChange",function(n){return i.selectedOption=n})("selectionChange",function(){return i.onFirstListChange()}),e.YNc(5,w,2,2,"mat-option",4),e.qZA()(),e.YNc(6,q,5,1,"div",5),e.TgZ(7,"div",6)(8,"div",7)(9,"button",8),e._uU(10," Crear "),e.qZA()(),e.TgZ(11,"table")(12,"thead")(13,"tr")(14,"th"),e._uU(15,"C\xf3digo"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Nombre"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Tipo de producto"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Precio"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Acciones"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,U,16,4,"tr",9),e.qZA()()()()),2&o&&(e.xp6(4),e.Q6J("value",i.selectedOption),e.xp6(1),e.Q6J("ngForOf",i.options),e.xp6(1),e.Q6J("ngIf",4===i.selectedOption),e.xp6(19),e.Q6J("ngForOf",i.data))},dependencies:[u.sg,u.O5,p.rH,m.lW,A.Hw,x.Nt,c.KE,O.gD,T.ey,r.Fj,r.JJ,r.On],styles:[".primary-color[_ngcontent-%COMP%]{color:#005e6e}.border-color[_ngcontent-%COMP%]{border-color:#005e6e}.titulo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}table[_ngcontent-%COMP%]{border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}td[_ngcontent-%COMP%]{background-color:#fff}"]})}var y=l(3546);function F(d,t){if(1&d&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&d){const o=t.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.label," ")}}class h{constructor(t){this.seguridadService=t,this.options=[{value:"0",label:"Paquete"},{value:"1",label:"Bebida"},{value:"2",label:"Otro"}],this.selectedOption=""}ngOnInit(){this.seguridadService.mantenerSecion(),this.seguridadService.tieneprivilegio()}configurarUsuario(t){this.seguridadService.CrearProducto({nombre:t.value.name,precio:t.value.precio,tipo:+this.selectedOption,user:this.seguridadService.getCookie("username")??"nada"})}static#e=this.\u0275fac=function(o){return new(o||h)(e.Y36(Z.F))};static#t=this.\u0275cmp=e.Xpm({type:h,selectors:[["app-CrearProducto"]],decls:29,vars:3,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"max-w-md","w-full"],[1,"shadow-md","rounded","px-8","pt-6","pb-8","mb-4"],[1,"titulo-grande"],[1,"flex","flex-col","items-center",3,"ngSubmit"],["f","ngForm"],[1,"mb-4","w-full"],[1,"w-full"],["matInput","","type","text","placeholder","Ingrese nombre","ngModel","","name","name","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["matInput","","type","number","placeholder","Ingrese precio","ngModel","","name","precio","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["placeholder","Tipo de Inventario",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],[3,"value"]],template:function(o,i){if(1&o){const s=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2)(3,"div")(4,"h1",3),e._uU(5,"Crear Producto"),e.qZA()(),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(s);const a=e.MAs(7);return e.KtG(i.configurarUsuario(a))}),e.TgZ(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Nombre del Producto"),e.qZA(),e._UZ(12,"input",8),e.TgZ(13,"mat-error"),e._uU(14,"Ingrese el nombre del Producto"),e.qZA()()(),e.TgZ(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),e._uU(18,"Precio del producto"),e.qZA(),e._UZ(19,"input",9),e.TgZ(20,"mat-error"),e._uU(21,"Ingrese el precio del producto"),e.qZA()()(),e.TgZ(22,"div")(23,"mat-form-field",7)(24,"mat-select",10),e.NdJ("valueChange",function(a){return i.selectedOption=a}),e.YNc(25,F,2,2,"mat-option",11),e.qZA()()(),e.TgZ(26,"div",12)(27,"button",13),e._uU(28," Guardar "),e.qZA()()()()()()}if(2&o){const s=e.MAs(7);e.xp6(24),e.Q6J("value",i.selectedOption),e.xp6(1),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("disabled",!i.selectedOption||s.invalid)}},dependencies:[u.sg,m.lW,x.Nt,c.KE,c.hX,c.TO,y.a8,O.gD,T.ey,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.On,r.F],styles:["mat-icon-button[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]{width:calc(100% - 48px);height:100%;padding:0 12px}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:48px;height:100%;display:flex;align-items:center;justify-content:center;padding:0}"]})}function J(d,t){if(1&d&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&d){const o=t.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.label," ")}}class b{constructor(t,o){this.seguridadService=t,this.router=o,this.id=0,this.nombre="",this.price=0,this.tipo=0,this.options=[{value:"0",label:"Paquete"},{value:"1",label:"Bebida"},{value:"2",label:"Otro"}],this.selectedOption=""}ngOnInit(){this.seguridadService.mantenerSecion(),this.seguridadService.tieneprivilegio(),this.router.queryParams.subscribe(t=>{this.id=+t.id||0,this.nombre=t.nombre||"",this.price=t.precio||0,this.tipo=+t.tipo||0,this.selectedOption=""+this.tipo})}configurarUsuario(t){this.seguridadService.ModificarProducto({id:this.id,nombre:t.value.name,precio:t.value.precio,tipo:+this.selectedOption,user:this.seguridadService.getCookie("username")??"nada"})}static#e=this.\u0275fac=function(o){return new(o||b)(e.Y36(Z.F),e.Y36(p.gz))};static#t=this.\u0275cmp=e.Xpm({type:b,selectors:[["app-ModificarProducto"]],decls:29,vars:5,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"max-w-md","w-full"],[1,"shadow-md","rounded","px-8","pt-6","pb-8","mb-4"],[1,"titulo-grande"],[1,"flex","flex-col","items-center",3,"ngSubmit"],["f","ngForm"],[1,"mb-4","w-full"],[1,"w-full"],["matInput","","type","text","placeholder","Ingrese nombre","ngModel","","name","name","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Ingrese precio","ngModel","","name","precio","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],["placeholder","Tipo de Inventario",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],[3,"value"]],template:function(o,i){if(1&o){const s=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2)(3,"div")(4,"h1",3),e._uU(5,"Modificar Producto"),e.qZA()(),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(s);const a=e.MAs(7);return e.KtG(i.configurarUsuario(a))}),e.TgZ(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Nombre del Producto"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(a){return i.nombre=a}),e.qZA(),e.TgZ(13,"mat-error"),e._uU(14,"Ingrese el nombre del producto"),e.qZA()()(),e.TgZ(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),e._uU(18,"Precio del producto"),e.qZA(),e.TgZ(19,"input",9),e.NdJ("ngModelChange",function(a){return i.price=a}),e.qZA(),e.TgZ(20,"mat-error"),e._uU(21,"Ingrese el precio del producto"),e.qZA()()(),e.TgZ(22,"div")(23,"mat-form-field",7)(24,"mat-select",10),e.NdJ("valueChange",function(a){return i.selectedOption=a}),e.YNc(25,J,2,2,"mat-option",11),e.qZA()()(),e.TgZ(26,"div",12)(27,"button",13),e._uU(28," Guardar "),e.qZA()()()()()()}if(2&o){const s=e.MAs(7);e.xp6(12),e.Q6J("ngModel",i.nombre),e.xp6(7),e.Q6J("ngModel",i.price),e.xp6(5),e.Q6J("value",i.selectedOption),e.xp6(1),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("disabled",!i.selectedOption||s.invalid)}},dependencies:[u.sg,m.lW,x.Nt,c.KE,c.hX,c.TO,y.a8,O.gD,T.ey,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.On,r.F],styles:["mat-icon-button[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]{width:calc(100% - 48px);height:100%;padding:0 12px}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:48px;height:100%;display:flex;align-items:center;justify-content:center;padding:0}"]})}const S=[{path:"",children:[{path:"admin",component:f},{path:"crear",component:h},{path:"modificar",component:b},{path:"**",redirectTo:"login"}]}];class v{static#e=this.\u0275fac=function(o){return new(o||v)};static#t=this.\u0275mod=e.oAB({type:v});static#o=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(S),p.Bz]})}var I=l(381);class _{static#e=this.\u0275fac=function(o){return new(o||_)};static#t=this.\u0275mod=e.oAB({type:_});static#o=this.\u0275inj=e.cJS({imports:[u.ez,v,I.q,r.u5]})}}}]);