"use strict";(self.webpackChunkmi_web_app=self.webpackChunkmi_web_app||[]).push([[493],{6493:(S,x,r)=>{r.r(x),r.d(x,{InventarioRModule:()=>Z});var p=r(6895),u=r(9299),e=r(4650),m=r(4859),_=r(5412);function I(l,n){}class g{constructor(){}static#e=this.\u0275fac=function(t){return new(t||g)};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-borrar"]],decls:13,vars:2,consts:[[1,"p-4"],[1,"text-xl","font-semibold","mb-4"],[1,"botones-container"],[1,"text-center","text-2xl","font-bold","mb-8"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["noFile",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Borrar Inventario"),e.qZA(),e.TgZ(3,"div",2)(4,"h3",3),e._uU(5,"\xbfSeguro que quieres borrar el inventaro?"),e.qZA(),e.TgZ(6,"mat-dialog-actions")(7,"button",4),e._uU(8,"No"),e.qZA(),e.TgZ(9,"button",5),e._uU(10,"Si"),e.qZA()(),e.YNc(11,I,0,0,"ng-template",null,6,e.W1O),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},dependencies:[m.lW,_.ZT,_.H8],styles:['@charset "UTF-8";.custom-primary-button[_ngcontent-%COMP%]{background-color:#005e6e;color:#fff;font-weight:700;padding:.5rem 1rem;border-radius:.25rem;margin-left:10px}.botones-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.botones-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:10px}']})}var C=r(4410),A=r(7392);function F(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.transmitirModificar(a.id,a.nombre,a.ubicacion,a.tipo))}),e.TgZ(11,"mat-icon"),e._uU(12,"edit"),e.qZA()(),e.TgZ(13,"button",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.openConfirmarDialog(a.id))}),e.TgZ(14,"mat-icon"),e._uU(15,"delete"),e.qZA()()()()}if(2&l){const t=n.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.tipo),e.xp6(2),e.Oqu(t.ubicacion)}}class f{constructor(n,t,i){this.seguridadService=n,this.router=t,this.dialog=i,this.data=[]}ngOnInit(){this.seguridadService.mantenerSecion(),this.seguridadService.tieneprivilegio(),this.seguridadService.obtenerInventario().subscribe(n=>{n.sort((t,i)=>t.nombre.localeCompare(i.nombre)),this.data=n},n=>{console.error("Error obteniendo data:",n)})}transmitirModificar(n,t,i,c){const o={id:n,nombre:t,ubicacion:i,tipo:"BODEGA"==c?1:0};this.router.navigate(["/inventario/modificar"],{queryParams:{id:o.id,nombre:o.nombre,ubicacion:o.ubicacion,tipo:o.tipo}})}openConfirmarDialog(n){this.dialog.open(g).afterClosed().subscribe(i=>{i&&(this.seguridadService.BorrarInventario({id:n,user:this.seguridadService.getCookie("username")??"nada"}),window.location.reload())})}static#e=this.\u0275fac=function(t){return new(t||f)(e.Y36(C.F),e.Y36(u.F0),e.Y36(_.uw))};static#t=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-inventario"]],decls:22,vars:1,consts:[[1,"p-4"],[1,"text-xl","font-semibold","mb-4"],[1,"table-container"],[1,"botones-containerA"],["routerLink","/inventario/crear","mat-raised-button","",1,"crear"],[4,"ngFor","ngForOf"],["mat-raised-button","",1,"modificar",3,"click"],["mat-raised-button","",1,"borrar",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Panel De Administraci\xf3n de Inventarios"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"button",4),e._uU(6," Crear "),e.qZA()(),e.TgZ(7,"table")(8,"thead")(9,"tr")(10,"th"),e._uU(11,"C\xf3digo"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Tipo de inventario"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Ubicaci\xf3n"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Acciones"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,F,16,4,"tr",5),e.qZA()()()()),2&t&&(e.xp6(21),e.Q6J("ngForOf",i.data))},dependencies:[p.sg,u.rH,m.lW,A.Hw],styles:[".primary-color[_ngcontent-%COMP%]{color:#005e6e}.border-color[_ngcontent-%COMP%]{border-color:#005e6e}.titulo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}table[_ngcontent-%COMP%]{border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}td[_ngcontent-%COMP%]{background-color:#fff}"]})}var T=r(4144),d=r(9549),y=r(3546),M=r(4385),O=r(3238),s=r(4006);function U(l,n){if(1&l&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&l){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.label," ")}}class h{constructor(n){this.seguridadService=n,this.options=[{value:"1",label:"Bodega"},{value:"0",label:"M\xe1quina Dispensadora"}],this.selectedOption=""}ngOnInit(){this.seguridadService.mantenerSecion(),this.seguridadService.tieneprivilegio()}configurarUsuario(n){this.seguridadService.CrearInventario({nombre:n.value.name,ubicacion:n.value.direction,tipo:+this.selectedOption,user:this.seguridadService.getCookie("username")??"nada"})}static#e=this.\u0275fac=function(t){return new(t||h)(e.Y36(C.F))};static#t=this.\u0275cmp=e.Xpm({type:h,selectors:[["app-CrearInventario"]],decls:29,vars:3,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"max-w-md","w-full"],[1,"shadow-md","rounded","px-8","pt-6","pb-8","mb-4"],[1,"titulo-grande"],[1,"flex","flex-col","items-center",3,"ngSubmit"],["f","ngForm"],[1,"mb-4","w-full"],[1,"w-full"],["matInput","","type","text","placeholder","Ingrese nombre de inventario","ngModel","","name","name","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["matInput","","type","text","placeholder","Ingrese ubicaci\xf3n del inventario","ngModel","","name","direction","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["placeholder","Tipo de Inventario",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],[3,"value"]],template:function(t,i){if(1&t){const c=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2)(3,"div")(4,"h1",3),e._uU(5,"Crear Inventario"),e.qZA()(),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(c);const o=e.MAs(7);return e.KtG(i.configurarUsuario(o))}),e.TgZ(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Nombre del Inventario"),e.qZA(),e._UZ(12,"input",8),e.TgZ(13,"mat-error"),e._uU(14,"Ingrese el nombre del Inventario"),e.qZA()()(),e.TgZ(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),e._uU(18,"Ubicaci\xf3n del Inventario"),e.qZA(),e._UZ(19,"input",9),e.TgZ(20,"mat-error"),e._uU(21,"Ingrese la ubicaci\xf3n del inventario"),e.qZA()()(),e.TgZ(22,"div")(23,"mat-form-field",7)(24,"mat-select",10),e.NdJ("valueChange",function(o){return i.selectedOption=o}),e.YNc(25,U,2,2,"mat-option",11),e.qZA()()(),e.TgZ(26,"div",12)(27,"button",13),e._uU(28," Guardar "),e.qZA()()()()()()}if(2&t){const c=e.MAs(7);e.xp6(24),e.Q6J("value",i.selectedOption),e.xp6(1),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("disabled",!i.selectedOption||c.invalid)}},dependencies:[p.sg,m.lW,T.Nt,d.KE,d.hX,d.TO,y.a8,M.gD,O.ey,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F],styles:["mat-icon-button[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]{width:calc(100% - 48px);height:100%;padding:0 12px}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:48px;height:100%;display:flex;align-items:center;justify-content:center;padding:0}"]})}function q(l,n){if(1&l&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&l){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.label," ")}}class v{constructor(n,t){this.seguridadService=n,this.router=t,this.id=0,this.nombre="",this.ubicacion="",this.tipo=0,this.options=[{value:"1",label:"Bodega"},{value:"0",label:"M\xe1quina Dispensadora"}],this.selectedOption=""}ngOnInit(){this.seguridadService.mantenerSecion(),this.seguridadService.tieneprivilegio(),this.router.queryParams.subscribe(n=>{this.id=+n.id||0,this.nombre=n.nombre||"",this.ubicacion=n.ubicacion||"",this.tipo=+n.tipo||0,this.selectedOption=""+this.tipo})}configurarUsuario(n){this.seguridadService.ModificarInventario({id:this.id,nombre:n.value.name,ubicacion:n.value.direction,tipo:+this.selectedOption,user:this.seguridadService.getCookie("username")??"nada"})}static#e=this.\u0275fac=function(t){return new(t||v)(e.Y36(C.F),e.Y36(u.gz))};static#t=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-CrearInventario"]],decls:29,vars:5,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"max-w-md","w-full"],[1,"shadow-md","rounded","px-8","pt-6","pb-8","mb-4"],[1,"titulo-grande"],[1,"flex","flex-col","items-center",3,"ngSubmit"],["f","ngForm"],[1,"mb-4","w-full"],[1,"w-full"],["matInput","","type","text","placeholder","Ingrese nombre de inventario","ngModel","","name","name","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Ingrese ubicaci\xf3n del inventario","ngModel","","name","direction","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],["placeholder","Tipo de Inventario",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],[3,"value"]],template:function(t,i){if(1&t){const c=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2)(3,"div")(4,"h1",3),e._uU(5,"Modificar Inventario"),e.qZA()(),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(c);const o=e.MAs(7);return e.KtG(i.configurarUsuario(o))}),e.TgZ(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Nombre del Inventario"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(o){return i.nombre=o}),e.qZA(),e.TgZ(13,"mat-error"),e._uU(14,"Ingrese el nombre del Inventario"),e.qZA()()(),e.TgZ(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),e._uU(18,"Ubicaci\xf3n del Inventario"),e.qZA(),e.TgZ(19,"input",9),e.NdJ("ngModelChange",function(o){return i.ubicacion=o}),e.qZA(),e.TgZ(20,"mat-error"),e._uU(21,"Ingrese la ubicaci\xf3n del inventario"),e.qZA()()(),e.TgZ(22,"div")(23,"mat-form-field",7)(24,"mat-select",10),e.NdJ("valueChange",function(o){return i.selectedOption=o}),e.YNc(25,q,2,2,"mat-option",11),e.qZA()()(),e.TgZ(26,"div",12)(27,"button",13),e._uU(28," Guardar "),e.qZA()()()()()()}if(2&t){const c=e.MAs(7);e.xp6(12),e.Q6J("ngModel",i.nombre),e.xp6(7),e.Q6J("ngModel",i.ubicacion),e.xp6(5),e.Q6J("value",i.selectedOption),e.xp6(1),e.Q6J("ngForOf",i.options),e.xp6(2),e.Q6J("disabled",!i.selectedOption||c.invalid)}},dependencies:[p.sg,m.lW,T.Nt,d.KE,d.hX,d.TO,y.a8,M.gD,O.ey,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F],styles:["mat-icon-button[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]{width:calc(100% - 48px);height:100%;padding:0 12px}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:48px;height:100%;display:flex;align-items:center;justify-content:center;padding:0}"]})}const w=[{path:"",children:[{path:"admin",component:f},{path:"crear",component:h},{path:"modificar",component:v},{path:"**",redirectTo:"login"}]}];class b{static#e=this.\u0275fac=function(t){return new(t||b)};static#t=this.\u0275mod=e.oAB({type:b});static#n=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(w),u.Bz]})}var J=r(381);class Z{static#e=this.\u0275fac=function(t){return new(t||Z)};static#t=this.\u0275mod=e.oAB({type:Z});static#n=this.\u0275inj=e.cJS({imports:[p.ez,b,J.q,s.u5]})}}}]);