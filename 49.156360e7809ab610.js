"use strict";(self.webpackChunkmi_web_app=self.webpackChunkmi_web_app||[]).push([[49],{2049:(q,y,o)=>{o.r(y),o.d(y,{AuthModule:()=>f});var x=o(6895),b=o(9299),e=o(4650),h=o(4410),u=o(4859),_=o(7392),w=o(4144),r=o(9549),Z=o(3546),i=o(4006);class c{constructor(t,n){this.seguridadService=t,this.router=n,this.isPasswordVisible=!1}ngOnInit(){this.seguridadService.autologin()}loginUsuario(t){this.seguridadService.login({username:t.value.email,password:t.value.password}).subscribe(n=>{1==n?this.router.navigateByUrl("/principal"):alert("El correo o la contrase\xf1a son incorrectos")})}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}static#e=this.\u0275fac=function(n){return new(n||c)(e.Y36(h.F),e.Y36(b.F0))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-login"]],decls:32,vars:2,consts:[[1,"flex","justify-center","items-center","h-screen","flex-col"],[1,"max-w-md","w-full"],[1,"shadow-md","rounded","px-8","pt-6","pb-8","mb-4","w-full"],[1,"h-500","mb-8"],["src","assets/img/logo.jpg","alt","Logo",1,"h-full","w-auto"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-4"],[1,"w-full"],["matInput","","type","email","placeholder","E-Mail","name","email","ngModel","","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["matInput","","placeholder","Password","name","password","ngModel","","required","",1,"password-input",3,"type"],["mat-icon-button","","type","button",1,"visibility-toggle",3,"click"],[1,"text-sm","mb-5"],["href","auth/recuperacion",1,"font-bold","text-blue-500"],[1,"flex","items-center","justify-center"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"]],template:function(n,a){if(1&n){const s=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(s);const d=e.MAs(6);return e.KtG(a.loginUsuario(d))}),e.TgZ(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),e._uU(10,"Ingrese un e-mail"),e.qZA(),e._UZ(11,"input",9),e.TgZ(12,"mat-error"),e._uU(13,"Debe Ingresar un E-Mail"),e.qZA()()(),e.TgZ(14,"div",7)(15,"mat-form-field",8)(16,"mat-label"),e._uU(17,"Ingrese Password"),e.qZA(),e._UZ(18,"input",10),e.TgZ(19,"button",11),e.NdJ("click",function(){return a.togglePasswordVisibility()}),e.TgZ(20,"mat-icon"),e._uU(21),e.qZA()(),e.TgZ(22,"mat-error"),e._uU(23,"Debe Ingresar un Password"),e.qZA()()(),e.TgZ(24,"div",12)(25,"p"),e._uU(26,"\xbfOlvidaste tu contrase\xf1a?"),e.TgZ(27,"a",13),e._uU(28," Ingresa aqu\xed"),e.qZA()()(),e.TgZ(29,"div",14)(30,"button",15),e._uU(31," Enviar "),e.qZA()()()()()()}2&n&&(e.xp6(18),e.Q6J("type",a.isPasswordVisible?"text":"password"),e.xp6(3),e.Oqu(a.isPasswordVisible?"visibility_off":"visibility"))},dependencies:[u.lW,u.RK,_.Hw,w.Nt,r.KE,r.hX,r.TO,Z.a8,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.F],styles:["mat-icon-button[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]{width:calc(100% - 48px);height:100%;padding:0 12px}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:48px;height:100%;display:flex;align-items:center;justify-content:center;padding:0}"]})}function T(v,t){1&v&&(e.TgZ(0,"mat-error"),e._uU(1," El E-Mail no puede estar en blanco "),e.qZA())}function U(v,t){1&v&&(e.TgZ(0,"mat-error"),e._uU(1," El E-Mail es invalido "),e.qZA())}class m{constructor(t){this.seguridadService=t,this.isPasswordVisible=!1}ngOnInit(){}registrarUsuario(t){t.value.email.split("@"),this.seguridadService.registrarUsuario({email:t.value.email,password:t.value.password,lastname:t.value.lastname,firstname:t.value.firstname,username:t.value.username})}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}static#e=this.\u0275fac=function(n){return new(n||m)(e.Y36(h.F))};static#t=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-registrar"]],decls:52,vars:5,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"max-w-md","w-full"],[1,"shadow-md","rounded","px-8","pt-6","pb-8","mb-4"],[1,"h-500","mb-8","w-full",2,"background-color","#005E6E"],["src","assets/img/logo.jpg","alt","Logo",1,"h-full","w-auto"],[1,"titulo-grande"],[1,"flex","flex-col","items-center",3,"ngSubmit"],["f","ngForm"],[1,"mb-4","w-full"],[1,"w-full"],["matInput","","type","text","placeholder","Ingrese nombre","ngModel","","name","firstname","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["matInput","","type","text","placeholder","Ingrese Apellidos","ngModel","","name","lastname","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["matInput","","type","text","placeholder","jnavas","ngModel","","name","username","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["matInput","","type","email","placeholder","ejemplo@gmail.com","ngModel","","name","email","email","","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["emailInput","ngModel"],[4,"ngIf"],["hintLabel","El password debe tener m\xednimo 7 caracteres",1,"w-full"],["matInput","","placeholder","Ingresa Password","ngModel","","name","password","required","","minlength","7",1,"password-input",3,"type"],["mat-icon-button","","type","button",1,"visibility-toggle",3,"click"],[1,"flex","items-center","justify-center"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"]],template:function(n,a){if(1&n){const s=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div")(6,"h1",5),e._uU(7,"Registro Usuario"),e.qZA()(),e.TgZ(8,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(s);const d=e.MAs(9);return e.KtG(a.registrarUsuario(d))}),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"Ingrese Nombre"),e.qZA(),e._UZ(14,"input",10),e.TgZ(15,"mat-error"),e._uU(16,"Debe ingresar un nombre"),e.qZA()()(),e.TgZ(17,"div",8)(18,"mat-form-field",9)(19,"mat-label"),e._uU(20,"Ingrese Apellidos"),e.qZA(),e._UZ(21,"input",11),e.TgZ(22,"mat-error"),e._uU(23,"Debe ingresar los apellidos"),e.qZA()()(),e.TgZ(24,"div",8)(25,"mat-form-field",9)(26,"mat-label"),e._uU(27,"Ingrese Username"),e.qZA(),e._UZ(28,"input",12),e.TgZ(29,"mat-error"),e._uU(30,"Debe ingresar un Username"),e.qZA()()(),e.TgZ(31,"div",8)(32,"mat-form-field",9)(33,"mat-label"),e._uU(34,"Ingrese E-Mail"),e.qZA(),e._UZ(35,"input",13,14),e.YNc(37,T,2,0,"mat-error",15),e.YNc(38,U,2,0,"mat-error",15),e.qZA()(),e.TgZ(39,"div",8)(40,"mat-form-field",16)(41,"mat-label"),e._uU(42,"Ingrese Password"),e.qZA(),e._UZ(43,"input",17),e.TgZ(44,"button",18),e.NdJ("click",function(){return a.togglePasswordVisibility()}),e.TgZ(45,"mat-icon"),e._uU(46),e.qZA()(),e.TgZ(47,"mat-error"),e._uU(48,"El password debe tener mas de 7 caracteres"),e.qZA()()(),e.TgZ(49,"div",19)(50,"button",20),e._uU(51," Guardar "),e.qZA()()()()()()}if(2&n){const s=e.MAs(9),l=e.MAs(36);e.xp6(37),e.Q6J("ngIf",l.hasError("required")),e.xp6(1),e.Q6J("ngIf",!l.hasError("required")),e.xp6(5),e.Q6J("type",a.isPasswordVisible?"text":"password"),e.xp6(3),e.Oqu(a.isPasswordVisible?"visibility_off":"visibility"),e.xp6(4),e.Q6J("disabled",s.invalid)}},dependencies:[x.O5,u.lW,u.RK,_.Hw,w.Nt,r.KE,r.hX,r.TO,Z.a8,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.on,i.On,i.F],styles:[".titulo-grande[_ngcontent-%COMP%]{font-size:24px}mat-icon-button[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]{width:calc(100% - 48px);height:100%;padding:0 12px}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:48px;height:100%;display:flex;align-items:center;justify-content:center;padding:0}"]})}class p{constructor(t){this.seguridadService=t}recuperar(t){this.seguridadService.recuperarContrase\u00f1a({username:t.value.email,password:""})}static#e=this.\u0275fac=function(n){return new(n||p)(e.Y36(h.F))};static#t=this.\u0275cmp=e.Xpm({type:p,selectors:[["app-recuperacion"]],decls:19,vars:0,consts:[[1,"flex","justify-center","items-center","h-screen","flex-col"],[1,"max-w-md","w-full"],[1,"shadow-md","rounded","px-8","pt-6","pb-8","mb-4","w-full"],[1,"h-500","mb-8"],["src","assets/img/logo.jpg","alt","Logo",1,"h-full","w-auto"],[1,"text-center","text-4xl","font-extrabold","mb-8","text-black"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-4"],[1,"w-full"],["matInput","","type","email","placeholder","E-Mail","name","email","ngModel","","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-center"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"]],template:function(n,a){if(1&n){const s=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"h1",5),e._uU(6,"Recuperar Contrase\xf1a"),e.qZA(),e.TgZ(7,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(s);const d=e.MAs(8);return e.KtG(a.recuperar(d))}),e.TgZ(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),e._uU(12,"Ingrese el e-mail vinculado a su cuenta"),e.qZA(),e._UZ(13,"input",10),e.TgZ(14,"mat-error"),e._uU(15,"Debe Ingresar un E-Mail"),e.qZA()()(),e.TgZ(16,"div",11)(17,"button",12),e._uU(18," Recuperar Contrase\xf1a "),e.qZA()()()()()()}},dependencies:[u.lW,w.Nt,r.KE,r.hX,r.TO,Z.a8,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.F]})}const A=[{path:"",children:[{path:"login",component:c},{path:"registrar",component:m},{path:"recuperacion",component:p},{path:"**",redirectTo:"login"}]}];class g{static#e=this.\u0275fac=function(n){return new(n||g)};static#t=this.\u0275mod=e.oAB({type:g});static#i=this.\u0275inj=e.cJS({imports:[b.Bz.forChild(A),b.Bz]})}var M=o(381);class f{static#e=this.\u0275fac=function(n){return new(n||f)};static#t=this.\u0275mod=e.oAB({type:f});static#i=this.\u0275inj=e.cJS({imports:[x.ez,g,M.q,i.u5]})}}}]);